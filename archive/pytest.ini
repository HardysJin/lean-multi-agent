[pytest]
# pytest 配置文件

# 测试文件匹配模式
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 测试目录
testpaths = Tests/unit Tests/integration

# Python path - add project root
pythonpath = .

# 输出选项
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings

# asyncio 配置
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# 标记
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    asyncio: marks tests as async tests
    
    # Component-specific markers
    core_agent: tests for core business logic agents
    orchestration: tests for agent orchestration and coordination
    memory: tests for memory and state management
    backtests: tests for backtesting strategies and engines
    utils: tests for utility functions and helpers
    
    # Agent-specific markers
    macro: tests for MacroAgent
    sector: tests for SectorAgent
    news: tests for NewsAgent
    technical: tests for TechnicalAgent
    meta: tests for MetaAgent
